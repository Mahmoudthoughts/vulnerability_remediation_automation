namespace: io.cloudslang.microfocus.oo.sample
flow:
  name: run_flow
  inputs:
    - flowUuid
    - runName:
        required: false
    - logLevel:
        required: false
    - inputs
    - username
    - password:
        sensitive: true
    - oo_server
    - port
    - protocol
  workflow:
    - flow_execution_json:
        do:
          io.cloudslang.microfocus.oo.flow.flow_execution_json:
            - flowUuid: '${flowUuid}'
            - runName: '${runName}'
            - logLevel: '${logLevel}'
            - inputs: '${inputs}'
        publish:
          - flow_input_json
        navigate:
          - SUCCESS: flow_execution
          - FAILURE: on_failure
    - flow_execution:
        do:
          io.cloudslang.microfocus.oo.flow.flow_execution:
            - username: '${username}'
            - password:
                value: '${password}'
                sensitive: true
            - server: '${oo_server}'
            - port: '${port}'
            - protocol: '${protocol}'
            - flow_input_json: '${flow_input_json}'
        publish:
          - results
          - execution_id
        navigate:
          - FAILURE: on_failure
          - SUCCESS: SUCCESS
  outputs:
    - results: '${results}'
    - execution_id: '${execution_id}'
  results:
    - FAILURE
    - SUCCESS
extensions:
  graph:
    steps:
      flow_execution_json:
        x: 100
        'y': 150
      flow_execution:
        x: 400
        'y': 150
        navigate:
          006aab57-6599-b64c-e598-988ee91378b1:
            targetId: ef992197-96f2-00ab-8f9f-d4a660cedab8
            port: SUCCESS
    results:
      SUCCESS:
        ef992197-96f2-00ab-8f9f-d4a660cedab8:
          x: 700
          'y': 150
