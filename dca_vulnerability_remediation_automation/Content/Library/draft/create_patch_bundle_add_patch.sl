namespace: draft
flow:
  name: create_patch_bundle_add_patch
  workflow:
    - get_authentication_token:
        do:
          io.cloudslang.microfocus.dca.authentication.get_authentication_token:
            - idm_host: swdemo10.hpeswlab.net
            - idm_username: transport_admin
            - idm_password:
                value: WhTySQ4TDj
                sensitive: true
            - dca_username: dcaadmin
            - dca_password:
                value: Automation.123
                sensitive: true
            - trust_all_roots: 'true'
        publish:
          - output_0: '${return_code}'
          - output_1: '${return_result}'
          - auth_token
        navigate:
          - SUCCESS: random_number_generator
          - FAILURE: on_failure
    - random_number_generator:
        do:
          io.cloudslang.base.math.random_number_generator:
            - min: '44'
            - max: '656'
        publish:
          - random_number
        navigate:
          - SUCCESS: SUCCESS
          - FAILURE: on_failure
  results:
    - FAILURE
    - SUCCESS
extensions:
  graph:
    steps:
      get_authentication_token:
        x: 100
        'y': 150
      random_number_generator:
        x: 400
        'y': 150
        navigate:
          ae316c42-913b-0aad-f2f3-247af96fa616:
            targetId: a60577de-a78d-e331-2c49-14f6337a9fd5
            port: SUCCESS
    results:
      SUCCESS:
        a60577de-a78d-e331-2c49-14f6337a9fd5:
          x: 700
          'y': 150
