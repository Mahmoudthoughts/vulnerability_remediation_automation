namespace: draft
flow:
  name: test_flow_inputs_1
  inputs:
    - flow_input_1:
        required: false
    - excelFileName:
        required: false
    - worksheetName:
        required: false
    - columnIndex:
        required: false
    - dca_server:
        required: false
    - dca_port:
        required: false
    - remediation_requet:
        required: false
  workflow:
    - get_valid_rows:
        do_external:
          5a1ae0e4-102e-4981-8c76-94b8ae6944ec:
            - firstRowIndex: '0'
        publish:
          - rows: '${valid_rows}'
        navigate:
          - failure: on_failure
          - success: get_values
    - get_values:
        loop:
          do_external:
            2ec5f196-4c98-4100-a2af-fb22dae4c9ed:
              - worksheetName: sample
              - rowIndex: test
          for: test in rows
          break: []
          publish:
            - values
        navigate:
          - success: get_by_index
          - failure: on_failure
    - get_by_index:
        do:
          io.cloudslang.base.lists.get_by_index:
            - list: '${values}'
            - delimiter: '|'
            - index: '0'
        navigate:
          - SUCCESS: SUCCESS
          - FAILURE: on_failure
  results:
    - FAILURE
    - SUCCESS
extensions:
  graph:
    steps:
      get_valid_rows:
        x: 100
        'y': 250
      get_values:
        x: 586
        'y': 251
      get_by_index:
        x: 664
        'y': 383
        navigate:
          a899a399-14a1-a1fc-6de8-61c66cc674b6:
            targetId: b9f39065-3739-5174-07bc-e9199fae13da
            port: SUCCESS
    results:
      SUCCESS:
        b9f39065-3739-5174-07bc-e9199fae13da:
          x: 909
          'y': 334
