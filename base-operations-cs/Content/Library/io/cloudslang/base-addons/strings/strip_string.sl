########################################################################################################################
#!!
#! @input strip_after: true
#! @input strip_method: Choose a number 1 - Strip before string 2 - Strip before and including string 3 - Strip after string  4 - Strip after and including string
#!!#
########################################################################################################################
namespace: io.cloudslang.base-addons.strings
operation:
  name: strip_string
  inputs:
    - origin_string
    - strip_after: 'true'
    - text_to_trip
    - strip_method: '1'
  python_action:
    script: "try:\r\n  error_message = \"\"\r\n  if text_to_trip in origin_string:\r\n      if strip_method == '1': # All Characters Up To the string - strip before string\r\n        stripped_string = origin_string[origin_string.index(text_to_trip):len(origin_string)]\r\n      elif strip_method == '2': # All Characters Up To And Including - strip before and including string\r\n        stripped_string = origin_string[origin_string.index(text_to_trip)+len(text_to_trip):len(origin_string)]\r\n      elif strip_method == '3':  # All Characters After - strip after string\r\n        stripped_string = origin_string[0:origin_string.index(text_to_trip)]\r\n      elif strip_method == '4': # All Characters After And Including - strip after and including string \r\n        stripped_string = origin_string[0:origin_string.index(text_to_trip)+len(text_to_trip)]\r\n      else:\r\n        error_message = \"Substring not found\"\r\n  else:\r\n    error_message = \"Substring not found\"\r\nexcept Exception as e:\r\n  error_message = e"
  outputs:
    - stripped_string
    - error_message: '${str(error_message)}'
  results:
    - SUCCESS
